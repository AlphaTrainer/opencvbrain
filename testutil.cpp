/*
 * testutil.cpp
 */

#include "testutil.h"

/*
 * Creates a signal equivalent to the one generated in octave test scripts"test_get_fft_matrix.m" and "test_pwelch.m".
 *
 * Params used when creating signal:
 *
 initializing of signal constructed in octave script "test_get_fft_matrix.m":
 D = 1.2; %signal duration in seconds
 S = 1000; % sampling rate, i.e. N points pt sec used to represent sine wave in Hz
 F = [30 40 100 200]; % 4 frequencies in Hz
 w = 2*pi*F; % convert frequencies to radians
 P = [0 .5 .25 .3]; % 4 corresponding phases
 A = [1 .5 .3 .2]; % corresponding amplitudes
 T = 1/S; % sampling period, i.e. for this e.g. points at 1 ms intervals
 */
float* getTestSignal() {

	// float array initialization working example
	// int samples = 10;
	// static float signal[10] = { 1.1, 2.2, 3.3, 4.4, 5.5, 6.6, 7.7, 8.8, 9.9, 10.1  };

	static float signal[1200] = { 0.305741, 0.029742, -0.016709, 0.137235,
			0.223700, 0.163109, 0.194523, 0.520761, 0.967120, 1.147375,
			0.934950, 0.610340, 0.489828, 0.540668, 0.493121, 0.267885,
			0.106707, 0.217602, 0.433496, 0.377954, -0.064100, -0.599561,
			-0.899162, -0.983090, -1.109789, -1.349337, -1.453570, -1.211453,
			-0.790870, -0.573102, -0.682088, -0.837340, -0.725466, -0.385071,
			-0.094664, 0.054986, 0.291841, 0.808328, 1.420631, 1.735160,
			1.620076, 1.352934, 1.249465, 1.278692, 1.174757, 0.864006,
			0.595184, 0.584149, 0.671988, 0.490211, -0.069021, -0.706508,
			-1.088362, -1.231859, -1.394334, -1.646546, -1.742643, -1.475292,
			-1.017109, -0.754738, -0.817664, -0.930686, -0.785020, -0.422839,
			-0.124913, 0.017218, 0.232288, 0.714982, 1.285055, 1.553525,
			1.393838, 1.089095, 0.960391, 0.981484, 0.890211, 0.615237,
			0.405983, 0.477202, 0.667067, 0.602468, 0.169471, -0.339960,
			-0.599885, -0.635738, -0.712698, -0.908521, -0.983007, -0.732699,
			-0.331982, -0.166953, -0.364153, -0.643119, -0.687702, -0.530962,
			-0.443277, -0.505088, -0.476470, -0.152100, 0.297226, 0.490211,
			0.305741, 0.029742, -0.016709, 0.137235, 0.223700, 0.163109,
			0.194523, 0.520761, 0.967120, 1.147375, 0.934950, 0.610340,
			0.489828, 0.540668, 0.493121, 0.267885, 0.106707, 0.217602,
			0.433496, 0.377954, -0.064100, -0.599561, -0.899162, -0.983090,
			-1.109789, -1.349337, -1.453570, -1.211453, -0.790870, -0.573102,
			-0.682088, -0.837340, -0.725466, -0.385071, -0.094664, 0.054986,
			0.291841, 0.808328, 1.420631, 1.735160, 1.620076, 1.352934,
			1.249465, 1.278692, 1.174757, 0.864006, 0.595184, 0.584149,
			0.671988, 0.490211, -0.069021, -0.706508, -1.088362, -1.231859,
			-1.394334, -1.646546, -1.742643, -1.475292, -1.017109, -0.754738,
			-0.817664, -0.930686, -0.785020, -0.422839, -0.124913, 0.017218,
			0.232288, 0.714982, 1.285055, 1.553525, 1.393838, 1.089095,
			0.960391, 0.981484, 0.890211, 0.615237, 0.405983, 0.477202,
			0.667067, 0.602468, 0.169471, -0.339960, -0.599885, -0.635738,
			-0.712698, -0.908521, -0.983007, -0.732699, -0.331982, -0.166953,
			-0.364153, -0.643119, -0.687702, -0.530962, -0.443277, -0.505088,
			-0.476470, -0.152100, 0.297226, 0.490211, 0.305741, 0.029742,
			-0.016709, 0.137235, 0.223700, 0.163109, 0.194523, 0.520761,
			0.967120, 1.147375, 0.934950, 0.610340, 0.489828, 0.540668,
			0.493121, 0.267885, 0.106707, 0.217602, 0.433496, 0.377954,
			-0.064100, -0.599561, -0.899162, -0.983090, -1.109789, -1.349337,
			-1.453570, -1.211453, -0.790870, -0.573102, -0.682088, -0.837340,
			-0.725466, -0.385071, -0.094664, 0.054986, 0.291841, 0.808328,
			1.420631, 1.735160, 1.620076, 1.352934, 1.249465, 1.278692,
			1.174757, 0.864006, 0.595184, 0.584149, 0.671988, 0.490211,
			-0.069021, -0.706508, -1.088362, -1.231859, -1.394334, -1.646546,
			-1.742643, -1.475292, -1.017109, -0.754738, -0.817664, -0.930686,
			-0.785020, -0.422839, -0.124913, 0.017218, 0.232288, 0.714982,
			1.285055, 1.553525, 1.393838, 1.089095, 0.960391, 0.981484,
			0.890211, 0.615237, 0.405983, 0.477202, 0.667067, 0.602468,
			0.169471, -0.339960, -0.599885, -0.635738, -0.712698, -0.908521,
			-0.983007, -0.732699, -0.331982, -0.166953, -0.364153, -0.643119,
			-0.687702, -0.530962, -0.443277, -0.505088, -0.476470, -0.152100,
			0.297226, 0.490211, 0.305741, 0.029742, -0.016709, 0.137235,
			0.223700, 0.163109, 0.194523, 0.520761, 0.967120, 1.147375,
			0.934950, 0.610340, 0.489828, 0.540668, 0.493121, 0.267885,
			0.106707, 0.217602, 0.433496, 0.377954, -0.064100, -0.599561,
			-0.899162, -0.983090, -1.109789, -1.349337, -1.453570, -1.211453,
			-0.790870, -0.573102, -0.682088, -0.837340, -0.725466, -0.385071,
			-0.094664, 0.054986, 0.291841, 0.808328, 1.420631, 1.735160,
			1.620076, 1.352934, 1.249465, 1.278692, 1.174757, 0.864006,
			0.595184, 0.584149, 0.671988, 0.490211, -0.069021, -0.706508,
			-1.088362, -1.231859, -1.394334, -1.646546, -1.742643, -1.475292,
			-1.017109, -0.754738, -0.817664, -0.930686, -0.785020, -0.422839,
			-0.124913, 0.017218, 0.232288, 0.714982, 1.285055, 1.553525,
			1.393838, 1.089095, 0.960391, 0.981484, 0.890211, 0.615237,
			0.405983, 0.477202, 0.667067, 0.602468, 0.169471, -0.339960,
			-0.599885, -0.635738, -0.712698, -0.908521, -0.983007, -0.732699,
			-0.331982, -0.166953, -0.364153, -0.643119, -0.687702, -0.530962,
			-0.443277, -0.505088, -0.476470, -0.152100, 0.297226, 0.490211,
			0.305741, 0.029742, -0.016709, 0.137235, 0.223700, 0.163109,
			0.194523, 0.520761, 0.967120, 1.147375, 0.934950, 0.610340,
			0.489828, 0.540668, 0.493121, 0.267885, 0.106707, 0.217602,
			0.433496, 0.377954, -0.064100, -0.599561, -0.899162, -0.983090,
			-1.109789, -1.349337, -1.453570, -1.211453, -0.790870, -0.573102,
			-0.682088, -0.837340, -0.725466, -0.385071, -0.094664, 0.054986,
			0.291841, 0.808328, 1.420631, 1.735160, 1.620076, 1.352934,
			1.249465, 1.278692, 1.174757, 0.864006, 0.595184, 0.584149,
			0.671988, 0.490211, -0.069021, -0.706508, -1.088362, -1.231859,
			-1.394334, -1.646546, -1.742643, -1.475292, -1.017109, -0.754738,
			-0.817664, -0.930686, -0.785020, -0.422839, -0.124913, 0.017218,
			0.232288, 0.714982, 1.285055, 1.553525, 1.393838, 1.089095,
			0.960391, 0.981484, 0.890211, 0.615237, 0.405983, 0.477202,
			0.667067, 0.602468, 0.169471, -0.339960, -0.599885, -0.635738,
			-0.712698, -0.908521, -0.983007, -0.732699, -0.331982, -0.166953,
			-0.364153, -0.643119, -0.687702, -0.530962, -0.443277, -0.505088,
			-0.476470, -0.152100, 0.297226, 0.490211, 0.305741, 0.029742,
			-0.016709, 0.137235, 0.223700, 0.163109, 0.194523, 0.520761,
			0.967120, 1.147375, 0.934950, 0.610340, 0.489828, 0.540668,
			0.493121, 0.267885, 0.106707, 0.217602, 0.433496, 0.377954,
			-0.064100, -0.599561, -0.899162, -0.983090, -1.109789, -1.349337,
			-1.453570, -1.211453, -0.790870, -0.573102, -0.682088, -0.837340,
			-0.725466, -0.385071, -0.094664, 0.054986, 0.291841, 0.808328,
			1.420631, 1.735160, 1.620076, 1.352934, 1.249465, 1.278692,
			1.174757, 0.864006, 0.595184, 0.584149, 0.671988, 0.490211,
			-0.069021, -0.706508, -1.088362, -1.231859, -1.394334, -1.646546,
			-1.742643, -1.475292, -1.017109, -0.754738, -0.817664, -0.930686,
			-0.785020, -0.422839, -0.124913, 0.017218, 0.232288, 0.714982,
			1.285055, 1.553525, 1.393838, 1.089095, 0.960391, 0.981484,
			0.890211, 0.615237, 0.405983, 0.477202, 0.667067, 0.602468,
			0.169471, -0.339960, -0.599885, -0.635738, -0.712698, -0.908521,
			-0.983007, -0.732699, -0.331982, -0.166953, -0.364153, -0.643119,
			-0.687702, -0.530962, -0.443277, -0.505088, -0.476470, -0.152100,
			0.297226, 0.490211, 0.305741, 0.029742, -0.016709, 0.137235,
			0.223700, 0.163109, 0.194523, 0.520761, 0.967120, 1.147375,
			0.934950, 0.610340, 0.489828, 0.540668, 0.493121, 0.267885,
			0.106707, 0.217602, 0.433496, 0.377954, -0.064100, -0.599561,
			-0.899162, -0.983090, -1.109789, -1.349337, -1.453570, -1.211453,
			-0.790870, -0.573102, -0.682088, -0.837340, -0.725466, -0.385071,
			-0.094664, 0.054986, 0.291841, 0.808328, 1.420631, 1.735160,
			1.620076, 1.352934, 1.249465, 1.278692, 1.174757, 0.864006,
			0.595184, 0.584149, 0.671988, 0.490211, -0.069021, -0.706508,
			-1.088362, -1.231859, -1.394334, -1.646546, -1.742643, -1.475292,
			-1.017109, -0.754738, -0.817664, -0.930686, -0.785020, -0.422839,
			-0.124913, 0.017218, 0.232288, 0.714982, 1.285055, 1.553525,
			1.393838, 1.089095, 0.960391, 0.981484, 0.890211, 0.615237,
			0.405983, 0.477202, 0.667067, 0.602468, 0.169471, -0.339960,
			-0.599885, -0.635738, -0.712698, -0.908521, -0.983007, -0.732699,
			-0.331982, -0.166953, -0.364153, -0.643119, -0.687702, -0.530962,
			-0.443277, -0.505088, -0.476470, -0.152100, 0.297226, 0.490211,
			0.305741, 0.029742, -0.016709, 0.137235, 0.223700, 0.163109,
			0.194523, 0.520761, 0.967120, 1.147375, 0.934950, 0.610340,
			0.489828, 0.540668, 0.493121, 0.267885, 0.106707, 0.217602,
			0.433496, 0.377954, -0.064100, -0.599561, -0.899162, -0.983090,
			-1.109789, -1.349337, -1.453570, -1.211453, -0.790870, -0.573102,
			-0.682088, -0.837340, -0.725466, -0.385071, -0.094664, 0.054986,
			0.291841, 0.808328, 1.420631, 1.735160, 1.620076, 1.352934,
			1.249465, 1.278692, 1.174757, 0.864006, 0.595184, 0.584149,
			0.671988, 0.490211, -0.069021, -0.706508, -1.088362, -1.231859,
			-1.394334, -1.646546, -1.742643, -1.475292, -1.017109, -0.754738,
			-0.817664, -0.930686, -0.785020, -0.422839, -0.124913, 0.017218,
			0.232288, 0.714982, 1.285055, 1.553525, 1.393838, 1.089095,
			0.960391, 0.981484, 0.890211, 0.615237, 0.405983, 0.477202,
			0.667067, 0.602468, 0.169471, -0.339960, -0.599885, -0.635738,
			-0.712698, -0.908521, -0.983007, -0.732699, -0.331982, -0.166953,
			-0.364153, -0.643119, -0.687702, -0.530962, -0.443277, -0.505088,
			-0.476470, -0.152100, 0.297226, 0.490211, 0.305741, 0.029742,
			-0.016709, 0.137235, 0.223700, 0.163109, 0.194523, 0.520761,
			0.967120, 1.147375, 0.934950, 0.610340, 0.489828, 0.540668,
			0.493121, 0.267885, 0.106707, 0.217602, 0.433496, 0.377954,
			-0.064100, -0.599561, -0.899162, -0.983090, -1.109789, -1.349337,
			-1.453570, -1.211453, -0.790870, -0.573102, -0.682088, -0.837340,
			-0.725466, -0.385071, -0.094664, 0.054986, 0.291841, 0.808328,
			1.420631, 1.735160, 1.620076, 1.352934, 1.249465, 1.278692,
			1.174757, 0.864006, 0.595184, 0.584149, 0.671988, 0.490211,
			-0.069021, -0.706508, -1.088362, -1.231859, -1.394334, -1.646546,
			-1.742643, -1.475292, -1.017109, -0.754738, -0.817664, -0.930686,
			-0.785020, -0.422839, -0.124913, 0.017218, 0.232288, 0.714982,
			1.285055, 1.553525, 1.393838, 1.089095, 0.960391, 0.981484,
			0.890211, 0.615237, 0.405983, 0.477202, 0.667067, 0.602468,
			0.169471, -0.339960, -0.599885, -0.635738, -0.712698, -0.908521,
			-0.983007, -0.732699, -0.331982, -0.166953, -0.364153, -0.643119,
			-0.687702, -0.530962, -0.443277, -0.505088, -0.476470, -0.152100,
			0.297226, 0.490211, 0.305741, 0.029742, -0.016709, 0.137235,
			0.223700, 0.163109, 0.194523, 0.520761, 0.967120, 1.147375,
			0.934950, 0.610340, 0.489828, 0.540668, 0.493121, 0.267885,
			0.106707, 0.217602, 0.433496, 0.377954, -0.064100, -0.599561,
			-0.899162, -0.983090, -1.109789, -1.349337, -1.453570, -1.211453,
			-0.790870, -0.573102, -0.682088, -0.837340, -0.725466, -0.385071,
			-0.094664, 0.054986, 0.291841, 0.808328, 1.420631, 1.735160,
			1.620076, 1.352934, 1.249465, 1.278692, 1.174757, 0.864006,
			0.595184, 0.584149, 0.671988, 0.490211, -0.069021, -0.706508,
			-1.088362, -1.231859, -1.394334, -1.646546, -1.742643, -1.475292,
			-1.017109, -0.754738, -0.817664, -0.930686, -0.785020, -0.422839,
			-0.124913, 0.017218, 0.232288, 0.714982, 1.285055, 1.553525,
			1.393838, 1.089095, 0.960391, 0.981484, 0.890211, 0.615237,
			0.405983, 0.477202, 0.667067, 0.602468, 0.169471, -0.339960,
			-0.599885, -0.635738, -0.712698, -0.908521, -0.983007, -0.732699,
			-0.331982, -0.166953, -0.364153, -0.643119, -0.687702, -0.530962,
			-0.443277, -0.505088, -0.476470, -0.152100, 0.297226, 0.490211,
			0.305741, 0.029742, -0.016709, 0.137235, 0.223700, 0.163109,
			0.194523, 0.520761, 0.967120, 1.147375, 0.934950, 0.610340,
			0.489828, 0.540668, 0.493121, 0.267885, 0.106707, 0.217602,
			0.433496, 0.377954, -0.064100, -0.599561, -0.899162, -0.983090,
			-1.109789, -1.349337, -1.453570, -1.211453, -0.790870, -0.573102,
			-0.682088, -0.837340, -0.725466, -0.385071, -0.094664, 0.054986,
			0.291841, 0.808328, 1.420631, 1.735160, 1.620076, 1.352934,
			1.249465, 1.278692, 1.174757, 0.864006, 0.595184, 0.584149,
			0.671988, 0.490211, -0.069021, -0.706508, -1.088362, -1.231859,
			-1.394334, -1.646546, -1.742643, -1.475292, -1.017109, -0.754738,
			-0.817664, -0.930686, -0.785020, -0.422839, -0.124913, 0.017218,
			0.232288, 0.714982, 1.285055, 1.553525, 1.393838, 1.089095,
			0.960391, 0.981484, 0.890211, 0.615237, 0.405983, 0.477202,
			0.667067, 0.602468, 0.169471, -0.339960, -0.599885, -0.635738,
			-0.712698, -0.908521, -0.983007, -0.732699, -0.331982, -0.166953,
			-0.364153, -0.643119, -0.687702, -0.530962, -0.443277, -0.505088,
			-0.476470, -0.152100, 0.297226, 0.490211, 0.305741, 0.029742,
			-0.016709, 0.137235, 0.223700, 0.163109, 0.194523, 0.520761,
			0.967120, 1.147375, 0.934950, 0.610340, 0.489828, 0.540668,
			0.493121, 0.267885, 0.106707, 0.217602, 0.433496, 0.377954,
			-0.064100, -0.599561, -0.899162, -0.983090, -1.109789, -1.349337,
			-1.453570, -1.211453, -0.790870, -0.573102, -0.682088, -0.837340,
			-0.725466, -0.385071, -0.094664, 0.054986, 0.291841, 0.808328,
			1.420631, 1.735160, 1.620076, 1.352934, 1.249465, 1.278692,
			1.174757, 0.864006, 0.595184, 0.584149, 0.671988, 0.490211,
			-0.069021, -0.706508, -1.088362, -1.231859, -1.394334, -1.646546,
			-1.742643, -1.475292, -1.017109, -0.754738, -0.817664, -0.930686,
			-0.785020, -0.422839, -0.124913, 0.017218, 0.232288, 0.714982,
			1.285055, 1.553525, 1.393838, 1.089095, 0.960391, 0.981484,
			0.890211, 0.615237, 0.405983, 0.477202, 0.667067, 0.602468,
			0.169471, -0.339960, -0.599885, -0.635738, -0.712698, -0.908521,
			-0.983007, -0.732699, -0.331982, -0.166953, -0.364153, -0.643119,
			-0.687702, -0.530962, -0.443277, -0.505088, -0.476470, -0.152100,
			0.297226, 0.49021 };

	return signal;
}
